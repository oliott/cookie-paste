<!doctype html>
<html>
  <head>
    <meta charset="UTF-8" />
    <link rel="stylesheet" type="text/css" href="style.css" />
    <title>AWS SSO Cookie Paster</title>
  </head>
  <body id="bajsen">
    <h1>Configuration</h1>
    <div id="root-config-list">
      <label for="defaultDomain">Target Domain:</label>
      <input type="text" id="defaultDomain" name="defaultDomain" /><br />
      <label for="defaultCookie">Target Cookie:</label>
      <input type="text" id="defaultCookie" name="defaultCookie" /><br />
      <label
        >Source Account Container:
        <select id="defaultSourceCookieStoreId"></select>
      </label>
    </div>
    <details>
      <summary>
        Info/Details
      </summary>
      This Add-on relies on <a href="https://addons.mozilla.org/en-US/firefox/addon/multi-account-containers/">Firefox Multi-Account Containers</a>.
      Workflow is this:
      <ol>
        <li>Target Domain: The domain that the cookie we are copying belongs to. This will usually be "example.awsapps.com" but "example" swapped out for something else.</li>
        <li>Target Cookie: Name of the cookie we are going to copy. This will most likely be "x-amz-sso_authn".</li>
        <li>Source Multi Account Container: Where we source the cookie from. This can be any container as long as the cookie has not expired.</li>
        <li>Then for each Multi Account Container below that has "Target of Paste" checked when you copy the cookie will receive the cookie.</li>
        <li>(Optional) Each Multi Account Container below that has AccountId and Role name target set will get a tab opened that targets this aws account and role to be logged in.</li>
      </ol>
      For event better experience <a href="https://addons.mozilla.org/en-US/firefox/addon/simple-tab-groups/">Simple Tab Groups</a> and create a tab group for each multi account container. Also enable the feature "Catch and move tabs with containers to this group" to make sure that opened tabs are opened directly in the correct tab group.
    </details>
    <br>
    <div id="container-list">
      <div class="container-row-header">
        <div class="container-column">
          <span class="container-all">Multi Account Container</span>
        </div>
        <div class="container-column">
          <span class="container-all">Target of Paste</span>
        </div>
        <div class="container-column">
          <span class="container-all">AccountID Target</span>
        </div>
        <div class="container-column">
          <span class="container-all">Role Name Target</span>
        </div>
      </div>
    </div>
    <div id="saveConfigDiv">
      <button type="button" id="saveConfig">Save Configurations</button>
    </div>
    <script src="../shared/script.js"></script>
    <script src="../components/RowTableOptions.js"></script>
    <script src="script.js"></script>
  </body>
</html>
